(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{193:function(a,e,t){"use strict";t.r(e);var s=t(0),n=Object(s.a)({},function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"getting-started"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getting-started","aria-hidden":"true"}},[a._v("#")]),a._v(" Getting Started")]),a._v(" "),t("p",[a._v("This is the beginner's tutorial to boot-strap Chain")]),a._v(" "),t("h2",{attrs:{id:"pre-requisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisites","aria-hidden":"true"}},[a._v("#")]),a._v(" Pre-requisites")]),a._v(" "),t("p",[a._v("Prepare ubuntu 18.0.x and Intel CPU")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("~/bin\n")])])]),t("p",[a._v("bin folder is the main folder for binaries")]),a._v(" "),t("h2",{attrs:{id:"how-it-works"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works","aria-hidden":"true"}},[a._v("#")]),a._v(" How it works")]),a._v(" "),t("p",[a._v("chain-tx-enclave (use intel sgx) -> working as dockerchain-abci (connects to enclave) tendermint (connects to chain-abci)")]),a._v(" "),t("h2",{attrs:{id:"compile-enclave"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compile-enclave","aria-hidden":"true"}},[a._v("#")]),a._v(" Compile enclave")]),a._v(" "),t("ol",[t("li",[a._v("git clone "),t("a",{attrs:{href:"https://github.com/crypto-com/chain-tx-enclave",target:"_blank",rel:"noopener noreferrer"}},[a._v("chain-tx-enclave"),t("OutboundLink")],1),a._v(", activate docker")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~  \ngit clone https://github.com/crypto-com/chain-tx-enclave.git\ncd chain-tx-enclave  \ndocker build -t chain-tx .   \ndocker run -ti --rm -p 25933:25933 -v ~/chain-tx-enclave/:/root/sgx -it chain-tx /bin/bash\n")])])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("Inside docker, install necessary components")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("apt update      \napt install rsync curl git gcc unzip  libzmq3-dev  \napt install libsnappy-dev wget vim pkg-config\n")])])]),t("ol",{attrs:{start:"3"}},[t("li",[a._v("Install sdk. You can install intel-sgx-sdk, and compile the application.")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mkdir ~/bin\ncd sgx\nexport SGX_MODE=SW  \nexport NETWORK_ID=ab  \nmake\n")])])]),t("ol",{attrs:{start:"4"}},[t("li",[a._v("Build sgx application")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~/sgx/app  \ncargo build  \n")])])]),t("p",[a._v("For hw")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker run -ti --device /dev/isgx -v ~/chain-tx-enclave/:/root/sgx -it chain-tx /bin/bash\n\nroot@docker:/# LD_LIBRARY_PATH=/opt/intel/libsgx-enclave-common/aesm /opt/intel/libsgx-enclave-common/aesm/aesm_service &\n")])])]),t("ol",{attrs:{start:"5"}},[t("li",[a._v("Copy enclave lib file to the system, and cargo build if build fails, please copy libEnclave_u.a manually.")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~/sgx\nmake\ncd ~/sgx/app\ncp libEnclave_u.a /usr/local/lib\n")])])]),t("ol",{attrs:{start:"6"}},[t("li",[a._v("Compile the release binary")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cargo build --release\ncp ./target/release/tx-validation-app  ~/bin\n")])])]),t("p",[a._v("Congratulations! chain-tx-enclave is now ready to go!")]),a._v(" "),t("h2",{attrs:{id:"setup-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-path","aria-hidden":"true"}},[a._v("#")]),a._v(" Setup path")]),a._v(" "),t("p",[a._v("cd ~ vi .profilemkdir ~/bin")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('export PATH="$HOME/.cargo/bin:$PATH"\nexport PATH=$HOME/bin:$PATH\n')])])]),t("h2",{attrs:{id:"install-rust"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-rust","aria-hidden":"true"}},[a._v("#")]),a._v(" Install Rust")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~curl https://sh.rustup.rs -sSf | shsource $HOME/.cargo/envrustup default nightly-2019-05-22\n")])])]),t("h2",{attrs:{id:"install-tendermint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-tendermint","aria-hidden":"true"}},[a._v("#")]),a._v(" Install Tendermint")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cd ~/binwget https://github.com/tendermint/tendermint/releases/download/v0.32.1/tendermint_v0.32.1_linux_amd64.zipunzip ./tendermint_v0.32.1_linux_amd64.zip\n")])])]),t("h2",{attrs:{id:"get-source-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-source-code","aria-hidden":"true"}},[a._v("#")]),a._v(" Get source code")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git clone https://github.com/crypto-com/chain.git\n")])])]),t("h2",{attrs:{id:"compile-chain-abci"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#compile-chain-abci","aria-hidden":"true"}},[a._v("#")]),a._v(" Compile chain-abci")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vi ~/.cargo/config\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('[build]\nrustflags = ["-Ctarget-feature=+aes,+ssse3"]\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v(":wqcargo build –release cp ./target/release/chain-abci ~/bin\n")])])]),t("h2",{attrs:{id:"run-the-program"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-the-program","aria-hidden":"true"}},[a._v("#")]),a._v(" Run the program")]),a._v(" "),t("h3",{attrs:{id:"enclave"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enclave","aria-hidden":"true"}},[a._v("#")]),a._v(" enclave")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("docker run -ti –rm -p 25933:25933 -v ~/chain-tx-enclave:/root/sgx -it linux /bin/bashexport SGX_MODE=SWexport NETWORK_ID=abexport RUST_LOG=infocd ~/sgx/bin./tx-validation-app tcp://0.0.0.0:25933\n")])])]),t("h3",{attrs:{id:"abci"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#abci","aria-hidden":"true"}},[a._v("#")]),a._v(" abci")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cargo run –bin chain-abci – –host 0.0.0.0 –port 26658 –chain_id test-chain-y3m1e6-AB –genesis_app_hash FAF9E47D07382ADEC643BA24561F8E1C6D61FE575D184265C443B2637355CA25 –enclave_server tcp://127.0.0.1:25933\n")])])]),t("h3",{attrs:{id:"tendermint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tendermint","aria-hidden":"true"}},[a._v("#")]),a._v(" tendermint")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tendermint init tendermint genesis.json\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('{\n"genesis_time": "2019-03-21T02:26:51.366017Z",\n"chain_id": "test-chain-y3m1e6-AB",\n  "consensus_params": {\n    "block": {\n      "max_bytes": "22020096",\n      "max_gas": "-1",\n      "time_iota_ms": "1000"\n    },\n    "evidence": {\n      "max_age": "100000"\n    },\n    "validator": {\n      "pub_key_types": [\n        "ed25519"\n      ]\n    }\n  },\n  "validators": [\n    {\n      "address": "2962FC8AAE279DB2D2AB583926A89D8738EB8B28",\n      "pub_key": {\n        "type": "tendermint/PubKeyEd25519",\n        "value": "DHGjayKp5xt0BBvZI0EMC6fr+OLgAsHFs+97bz7lShg="\n      },\n      "power": "10",\n      "name": ""\n    }\n  ],\n\n"app_hash": "FAF9E47D07382ADEC643BA24561F8E1C6D61FE575D184265C443B2637355CA25",\n"app_state": {"distribution":{"0x0db221c4f57d5d38b968139c06e9132aaf84e8df":["2500000000000000000","ExternallyOwnedAccount"],"0x20a0bee429d6907e556205ef9d48ab6fe6a55531":["2500000000000000000","ExternallyOwnedAccount"],"0x35f517cab9a37bc31091c2f155d965af84e0bc85":["2500000000000000000","ExternallyOwnedAccount"],"0x3ae55c16800dc4bd0e3397a9d7806fb1f11639de":["1250000000000000000","ExternallyOwnedAccount"],"0x71507ee19cbc0c87ff2b5e05d161efe2aac4ee07":["1250000000000000000","ExternallyOwnedAccount"]},"launch_incentive_from":"0x35f517cab9a37bc31091c2f155d965af84e0bc85","launch_incentive_to":"0x20a0bee429d6907e556205ef9d48ab6fe6a55531","long_term_incentive":"0x71507ee19cbc0c87ff2b5e05d161efe2aac4ee07","network_params":{"initial_fee_policy":{"constant":1001,"coefficient":1025},"required_council_node_stake":"1250000000000000000","unbonding_period":60},"council_nodes":[{"staking_account_address":"0x3ae55c16800dc4bd0e3397a9d7806fb1f11639de","consensus_pubkey_type":"Ed25519","consensus_pubkey_b64":"EIosObgfONUsnWCBGRpFlRFq5lSxjGIChRlVrVWVkcE="}]}\n}\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tendermint node\n")])])]),t("h3",{attrs:{id:"client-rpc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client-rpc","aria-hidden":"true"}},[a._v("#")]),a._v(" client rpc")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cargo run –bin client-rpc – –chain-id AB –port 3000 –storage-dir ./my –tendermint-url http://localhost:26657/\n")])])]),t("h3",{attrs:{id:"check-working"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#check-working","aria-hidden":"true"}},[a._v("#")]),a._v(" Check working")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("curl 'http://localhost:26657/abci_query?path=0x6163636f756e74&data=0x0db221c4f57d5d38b968139c06e9132aaf84e8df'\n")])])]),t("h2",{attrs:{id:"other-information"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#other-information","aria-hidden":"true"}},[a._v("#")]),a._v(" Other information")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/crypto-com/chain/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[a._v("github.com/crypto-com/chain/blob/master/README.md"),t("OutboundLink")],1)])])},[],!1,null,null,null);e.default=n.exports}}]);