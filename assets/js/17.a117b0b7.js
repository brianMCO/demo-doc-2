(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{199:function(t,e,a){"use strict";a.r(e);var n=a(0),o=Object(n.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"transaction-accounting-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transaction-accounting-model","aria-hidden":"true"}},[t._v("#")]),t._v(" Transaction Accounting Model")]),t._v(" "),a("p",[t._v("Crypto.com Chain uses both Unspent Transaction Outputs (UTXOs) and (a form of) accounts for its accounting model, inspired by the work on "),a("a",{attrs:{href:"https://eprint.iacr.org/2018/262.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("chimeric ledgers"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation","aria-hidden":"true"}},[t._v("#")]),t._v(" Motivation")]),t._v(" "),a("p",[t._v("The native token used in Crypto.com Chain serves two main purposes:")]),t._v(" "),a("ol",[a("li",[t._v("Payments")]),t._v(" "),a("li",[t._v("Network operation (staking etc.)")])]),t._v(" "),a("p",[t._v("These two realms have different rules and properties. These differences are highlighted in the table below:")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("Transaction Volume")]),t._v(" "),a("th",[t._v("Visibility")]),t._v(" "),a("th",[t._v("State Changes")]),t._v(" "),a("th",[t._v("Value Transfer Rules")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Payments")]),t._v(" "),a("td",[t._v("High")]),t._v(" "),a("td",[t._v("Minimal / confidentiality / data protection is desired")]),t._v(" "),a("td",[t._v("UTXO set is the only “state”: changes only by transactions")]),t._v(" "),a("td",[t._v("Flexible: new address per invoice, ad-hoc n-of-m address formations (e.g. for escrows); encoding extra information for atomic swaps etc.")])]),t._v(" "),a("tr",[a("td",[t._v("Network operation (staking etc.)")]),t._v(" "),a("td",[t._v("Low")]),t._v(" "),a("td",[t._v("Maximal transparency is desired")]),t._v(" "),a("td",[t._v("Both by transactions and network events (e.g. a validator not following the protocol)")]),t._v(" "),a("td",[t._v("Self-contained: same account changes (reward payouts, unbonding…)")])])])]),t._v(" "),a("h2",{attrs:{id:"utxo-accounts-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#utxo-accounts-model","aria-hidden":"true"}},[t._v("#")]),t._v(" UTXO+Accounts model")]),t._v(" "),a("p",[t._v("For this reason, we chose the mixed model where:")]),t._v(" "),a("ul",[a("li",[t._v("UTXO is used for payments / value transfers")]),t._v(" "),a("li",[t._v("Account-model is used for network operations (“staked state”)")])]),t._v(" "),a("p",[t._v("Different types of transactions and how they relate to these accounting are "),a("a",{attrs:{href:"https://cryptocom-chain-documentation.readthedocs.io/en/latest/transaction.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("described in transactions"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"staked-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#staked-state","aria-hidden":"true"}},[t._v("#")]),t._v(" Staked state")]),t._v(" "),a("p",[t._v("The current account usage is self-contained limited. Each account (“staked state”) contains two balances:")]),t._v(" "),a("ul",[a("li",[t._v("bonded amount")]),t._v(" "),a("li",[t._v("unbonded amount")])]),t._v(" "),a("p",[t._v("The bonded amount is the amount used to check against minimal staking requirements and used to calculate the Tendermint validator voting power (in case of council nodes).")]),t._v(" "),a("p",[t._v("As it may take time for the network evidence of malicious activity (e.g. double signing) to appear, the stake cannot be withdrawn immediately and is first moved to the “unbonded” balance.")]),t._v(" "),a("p",[t._v("The unbonded balance can be withdrawn (into transaction outputs) after “unbonded_from” time if the account was not jailed / slashed (see "),a("a",{attrs:{href:"https://cryptocom-chain-documentation.readthedocs.io/en/latest/staking.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("staking"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("h3",{attrs:{id:"staked-state-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#staked-state-storage","aria-hidden":"true"}},[t._v("#")]),t._v(" Staked State Storage")]),t._v(" "),a("p",[t._v("The account state is currently stored in a sparse Merkle trie structure (currently MerkleBIT backed by RocksDB, but it may be migrated to a more robust / better understood structure, e.g. a Patricia Merkle trie or IAVL+).")])])},[],!1,null,null,null);e.default=o.exports}}]);